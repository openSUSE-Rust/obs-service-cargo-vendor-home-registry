# OBS Service Cargo Vendor Home Registry

A rewrite of the [OBS Service Cargo Vendor](https://github.com/Firstyear/obs-service-cargo/).

The goals of this project are
- reduce boilerplate code by more than 50%
- use more idiomatic Rust code
- handle error messages better

## Why rewrite?

`cargo vendor` is sus so I decided to go with vendoring the cargo home registry `$CARGO_HOME` instead ðŸ˜³

# Project Structure

```
.
â”œâ”€â”€ Cargo.lock
â”œâ”€â”€ Cargo.toml
â”œâ”€â”€ CHANGELOG.md
â”œâ”€â”€ cliff.toml
â”œâ”€â”€ LICENCE
â”œâ”€â”€ README.md
â””â”€â”€ src
    â”œâ”€â”€ cli.rs
    â”œâ”€â”€ compress.rs
    â”œâ”€â”€ decompress.rs
    â”œâ”€â”€ lib.rs
    â”œâ”€â”€ main.rs
    â””â”€â”€ opts.rs

2 directories, 12 files
```

## Features

- Config file TOML[^1]
	- Autogenerated for each manifest path found at the root of the
	extracted project at depth 1 if ran the first time.
	- 
	- Extends `_service` file because it's too limiting
- Audit is no-opt like the old `obs-service-cargo-vendor`
- Backwards-compatible with `obs-service-cargo-vendor`[^2]
- Introducing *manifest-paths*
	- Support custom manifest (Cargo.toml) paths
	- No need for multi-vendoring[^3]


[^1]: We use this because `_service` is too limiting for our needs
[^2]: If using old config, this will override `obs-service-cargo-vendor-home-registry`.
[^3]: Except for some weird project configurations. We will attempt to support those
